<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>dtrackr - Configuration example • dtrackr</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="dtrackr - Configuration example">
<meta property="og:description" content="dtrackr">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">dtrackr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.4.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/dtrackr.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/consort-example.html">dtrackr - Consort statement example</a>
    </li>
    <li>
      <a href="../articles/dtrackr-options.html">dtrackr - Configuration example</a>
    </li>
    <li>
      <a href="../articles/joining-pipelines.html">dtrackr - Joining data pipelines</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/terminological/dtrackr/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>dtrackr - Configuration example</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/terminological/dtrackr/blob/HEAD/vignettes/dtrackr-options.Rmd" class="external-link"><code>vignettes/dtrackr-options.Rmd</code></a></small>
      <div class="hidden name"><code>dtrackr-options.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="global-configuration">Global configuration<a class="anchor" aria-label="anchor" href="#global-configuration"></a>
</h2>
<p>Most of the behaviour of <code>dtrackr</code> can be specified at the
individual call level using the <code>.headline</code> and
<code>.messages</code> glue specifications to define a format. Sometimes
however this is annoying to do for all the stages in a flow chart and a
global configuration of behaviour is desirable.</p>
<div class="section level3">
<h3 id="naming-conventions-for-groups">Naming conventions for groups<a class="anchor" aria-label="anchor" href="#naming-conventions-for-groups"></a>
</h3>
<p>One of the areas where default behaviour may be undesirable is the
naming of groups. The default setting combines the group name
<code>{.group}</code> and the group value <code>{.value}</code> into a
concatenated colon separated string as demonstrated below:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># these are the defaults</span></span>
<span><span class="va">old</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span></span>
<span>  dtrackr.strata_glue<span class="op">=</span><span class="st">"{.group}:{.value}"</span>,</span>
<span>  dtrackr.strata_sep<span class="op">=</span><span class="st">"; "</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">survival</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/survival/man/cgd.html" class="external-link">cgd</a></span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/track.html">track</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">treat</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/comment.html">comment</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">sex</span>,.add <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/comment.html">comment</a></span><span class="op">(</span></span>
<span>    .messages <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>    <span class="st">"{.count} patients"</span>,</span>
<span>    <span class="st">"{sprintf('%1.0f',.count/.total*100)}% of the total"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">ungroup</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/flowchart.html">flowchart</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<?xml version="1.0" encoding="UTF-8" standalone="no"?><!-- Generated by graphviz version 2.40.1 (20161225.0304)
 --><!-- Title: %0 Pages: 1 --><svg width="424.800pt" height="251.590pt" viewbox="0 0 424.800 251.590" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="graph0" class="graph" transform="scale(0.968 0.968) rotate(0) translate(4 256.000)"><title>%0</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-256.4 435.3472,-256.4 435.3472,4 -4,4"></polygon><!-- 7&#45;&gt;11 --><g id="edge4" class="edge"><title>7:s-&gt;11</title>
<path fill="none" stroke="#000000" d="M51.6792,-41.6C51.6792,-41.6 51.6792,-11 51.6792,-11 51.6792,-11 191.4656,-11 191.4656,-11"></path><polygon fill="#000000" stroke="#000000" points="191.4657,-12.7501 196.4656,-11 191.4656,-9.2501 191.4657,-12.7501"></polygon></g><!-- 8&#45;&gt;11 --><g id="edge3" class="edge"><title>8:s-&gt;11</title>
<path fill="none" stroke="#000000" d="M205.1828,-41.6C205.1828,-41.6 205.1828,-28.5777 205.1828,-28.5777"></path><polygon fill="#000000" stroke="#000000" points="206.9329,-28.5777 205.1828,-23.5777 203.4329,-28.5778 206.9329,-28.5777"></polygon></g><!-- 9&#45;&gt;11 --><g id="edge2" class="edge"><title>9:s-&gt;11</title>
<path fill="none" stroke="#000000" d="M236.346,-41.6C236.346,-41.6 236.346,-28.5777 236.346,-28.5777"></path><polygon fill="#000000" stroke="#000000" points="238.0961,-28.5777 236.346,-23.5777 234.5961,-28.5778 238.0961,-28.5777"></polygon></g><!-- 10&#45;&gt;11 --><g id="edge1" class="edge"><title>10:s-&gt;11</title>
<path fill="none" stroke="#000000" d="M385.6792,-41.6C385.6792,-41.6 385.6792,-11 385.6792,-11 385.6792,-11 250.0255,-11 250.0255,-11"></path><polygon fill="#000000" stroke="#000000" points="250.0256,-9.2501 245.0255,-11 250.0255,-12.7501 250.0256,-9.2501"></polygon></g><!-- 5&#45;&gt;7 --><g id="edge8" class="edge"><title>5:s-&gt;7</title>
<path fill="none" stroke="#000000" d="M165.6792,-109C165.6792,-109 51.6792,-109 51.6792,-109 51.6792,-109 51.6792,-84.729 51.6792,-84.729"></path><polygon fill="#000000" stroke="#000000" points="53.4293,-84.7289 51.6792,-79.729 49.9293,-84.729 53.4293,-84.7289"></polygon></g><!-- 5&#45;&gt;8 --><g id="edge7" class="edge"><title>5:s-&gt;8</title>
<path fill="none" stroke="#000000" d="M165.6792,-97.4C165.6792,-97.4 165.6792,-84.8622 165.6792,-84.8622"></path><polygon fill="#000000" stroke="#000000" points="167.4293,-84.8622 165.6792,-79.8622 163.9293,-84.8623 167.4293,-84.8622"></polygon></g><!-- 6&#45;&gt;9 --><g id="edge6" class="edge"><title>6:s-&gt;9</title>
<path fill="none" stroke="#000000" d="M276.6792,-97.4C276.6792,-97.4 276.6792,-84.8622 276.6792,-84.8622"></path><polygon fill="#000000" stroke="#000000" points="278.4293,-84.8622 276.6792,-79.8622 274.9293,-84.8623 278.4293,-84.8622"></polygon></g><!-- 6&#45;&gt;10 --><g id="edge5" class="edge"><title>6:s-&gt;10</title>
<path fill="none" stroke="#000000" d="M276.6792,-109C276.6792,-109 385.6792,-109 385.6792,-109 385.6792,-109 385.6792,-84.729 385.6792,-84.729"></path><polygon fill="#000000" stroke="#000000" points="387.4293,-84.7289 385.6792,-79.729 383.9293,-84.729 387.4293,-84.7289"></polygon></g><!-- 3&#45;&gt;5 --><g id="edge10" class="edge"><title>3:s-&gt;5</title>
<path fill="none" stroke="#000000" d="M165.6792,-139.2C165.6792,-139.2 165.6792,-126.1777 165.6792,-126.1777"></path><polygon fill="#000000" stroke="#000000" points="167.4293,-126.1777 165.6792,-121.1777 163.9293,-126.1778 167.4293,-126.1777"></polygon></g><!-- 4&#45;&gt;6 --><g id="edge9" class="edge"><title>4:s-&gt;6</title>
<path fill="none" stroke="#000000" d="M276.6792,-139.2C276.6792,-139.2 276.6792,-126.1777 276.6792,-126.1777"></path><polygon fill="#000000" stroke="#000000" points="278.4293,-126.1777 276.6792,-121.1777 274.9293,-126.1778 278.4293,-126.1777"></polygon></g><!-- 2&#45;&gt;3 --><g id="edge12" class="edge"><title>2:s-&gt;3</title>
<path fill="none" stroke="#000000" d="M191.6256,-187C191.6256,-187 191.6256,-174.4477 191.6256,-174.4477"></path><polygon fill="#000000" stroke="#000000" points="193.3757,-174.4477 191.6256,-169.4477 189.8757,-174.4478 193.3757,-174.4477"></polygon></g><!-- 2&#45;&gt;4 --><g id="edge11" class="edge"><title>2:s-&gt;4</title>
<path fill="none" stroke="#000000" d="M242.121,-187C242.121,-187 242.121,-154 242.121,-154 242.121,-154 244.1144,-154 244.1144,-154"></path><polygon fill="#000000" stroke="#000000" points="244.1144,-155.7501 249.1144,-154 244.1143,-152.2501 244.1144,-155.7501"></polygon></g><!-- 1&#45;&gt;2 --><g id="edge13" class="edge"><title>1:s-&gt;2</title>
<path fill="none" stroke="#000000" d="M220.6792,-228.6C220.6792,-228.6 220.6792,-215.6987 220.6792,-215.6987"></path><polygon fill="#000000" stroke="#000000" points="222.4293,-215.6987 220.6792,-210.6987 218.9293,-215.6987 222.4293,-215.6987"></polygon></g><!-- 11 --><g id="node1" class="node"><title>11</title>
<polygon fill="#ffffff" stroke="#000000" points="244.8539,-23.4033 196.5045,-23.4033 196.5045,-.1967 244.8539,-.1967 244.8539,-23.4033"></polygon><text text-anchor="start" x="203.3424" y="-9.4" font-family="Helvetica,sans-Serif" font-size="8.00" fill="#000000">203 items</text></g><!-- 7 --><g id="node2" class="node"><title>7</title>
<polygon fill="#ffffff" stroke="#000000" points="103.5382,-79.6 -.1798,-79.6 -.1798,-41.6 103.5382,-41.6 103.5382,-79.6"></polygon><text text-anchor="start" x="7" y="-66.4" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="8.00" fill="#000000">treat:placebo; sex:female</text><text text-anchor="start" x="7" y="-58.4" font-family="Helvetica,sans-Serif" font-size="8.00" fill="#000000">20 patients</text><text text-anchor="start" x="7" y="-50.4" font-family="Helvetica,sans-Serif" font-size="8.00" fill="#000000">10% of the total</text></g><!-- 8 --><g id="node3" class="node"><title>8</title>
<polygon fill="#ffffff" stroke="#000000" points="213.8677,-79.6 117.4907,-79.6 117.4907,-41.6 213.8677,-41.6 213.8677,-79.6"></polygon><text text-anchor="start" x="124.3352" y="-66.4" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="8.00" fill="#000000">treat:placebo; sex:male</text><text text-anchor="start" x="124.3352" y="-58.4" font-family="Helvetica,sans-Serif" font-size="8.00" fill="#000000">100 patients</text><text text-anchor="start" x="124.3352" y="-50.4" font-family="Helvetica,sans-Serif" font-size="8.00" fill="#000000">49% of the total</text></g><!-- 9 --><g id="node4" class="node"><title>9</title>
<polygon fill="#ffffff" stroke="#000000" points="325.6856,-79.6 227.6728,-79.6 227.6728,-41.6 325.6856,-41.6 325.6856,-79.6"></polygon><text text-anchor="start" x="234.676" y="-66.4" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="8.00" fill="#000000">treat:rIFN-g; sex:female</text><text text-anchor="start" x="234.676" y="-58.4" font-family="Helvetica,sans-Serif" font-size="8.00" fill="#000000">15 patients</text><text text-anchor="start" x="234.676" y="-50.4" font-family="Helvetica,sans-Serif" font-size="8.00" fill="#000000">7% of the total</text></g><!-- 10 --><g id="node5" class="node"><title>10</title>
<polygon fill="#ffffff" stroke="#000000" points="431.5158,-79.6 339.8426,-79.6 339.8426,-41.6 431.5158,-41.6 431.5158,-79.6"></polygon><text text-anchor="start" x="347.0112" y="-66.4" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="8.00" fill="#000000">treat:rIFN-g; sex:male</text><text text-anchor="start" x="347.0112" y="-58.4" font-family="Helvetica,sans-Serif" font-size="8.00" fill="#000000">68 patients</text><text text-anchor="start" x="347.0112" y="-50.4" font-family="Helvetica,sans-Serif" font-size="8.00" fill="#000000">33% of the total</text></g><!-- 5 --><g id="node6" class="node"><title>5</title>
<polygon fill="#ffffff" stroke="#000000" points="207.5263,-121.0033 123.8321,-121.0033 123.8321,-97.7967 207.5263,-97.7967 207.5263,-121.0033"></polygon><text text-anchor="start" x="131.006" y="-107" font-family="Helvetica,sans-Serif" font-size="8.00" fill="#000000">stratify by treat, sex</text></g><!-- 6 --><g id="node7" class="node"><title>6</title>
<polygon fill="#ffffff" stroke="#000000" points="318.5263,-121.0033 234.8321,-121.0033 234.8321,-97.7967 318.5263,-97.7967 318.5263,-121.0033"></polygon><text text-anchor="start" x="242.006" y="-107" font-family="Helvetica,sans-Serif" font-size="8.00" fill="#000000">stratify by treat, sex</text></g><!-- 3 --><g id="node8" class="node"><title>3</title>
<polygon fill="#ffffff" stroke="#000000" points="195.9181,-169.2 135.4403,-169.2 135.4403,-139.2 195.9181,-139.2 195.9181,-169.2"></polygon><text text-anchor="start" x="142.56" y="-156" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="8.00" fill="#000000">treat:placebo</text><text text-anchor="start" x="142.56" y="-148" font-family="Helvetica,sans-Serif" font-size="8.00" fill="#000000">120 items</text></g><!-- 4 --><g id="node9" class="node"><title>4</title>
<polygon fill="#ffffff" stroke="#000000" points="304.0657,-169.2 249.2927,-169.2 249.2927,-139.2 304.0657,-139.2 304.0657,-169.2"></polygon><text text-anchor="start" x="256.236" y="-156" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="8.00" fill="#000000">treat:rIFN-g</text><text text-anchor="start" x="256.236" y="-148" font-family="Helvetica,sans-Serif" font-size="8.00" fill="#000000">83 items</text></g><!-- 2 --><g id="node10" class="node"><title>2</title>
<polygon fill="#ffffff" stroke="#000000" points="254.1336,-210.6033 187.2248,-210.6033 187.2248,-187.3967 254.1336,-187.3967 254.1336,-210.6033"></polygon><text text-anchor="start" x="194.4528" y="-196.6" font-family="Helvetica,sans-Serif" font-size="8.00" fill="#000000">stratify by treat</text></g><!-- 1 --><g id="node11" class="node"><title>1</title>
<polygon fill="#ffffff" stroke="#000000" points="244.8539,-252.2033 196.5045,-252.2033 196.5045,-228.9967 244.8539,-228.9967 244.8539,-252.2033"></polygon><text text-anchor="start" x="203.3424" y="-238.2" font-family="Helvetica,sans-Serif" font-size="8.00" fill="#000000">203 items</text></g></g></svg><div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># reset options </span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span><span class="va">old</span><span class="op">)</span></span></code></pre></div>
<p>In particular in situations like this where you are faceting on
factors or strings, disposing of the group name may make this clearer.
In the following example we only include the group value, force it to
lower case, and use a comma to separate multiple facets. We have used
manual override of the messages in the grouping stages, by providing a
<code>.messages</code> parameter, to specify what we are faceting by in
a more natural way:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># only include the group value in the description of the group</span></span>
<span><span class="va">old</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span></span>
<span>  dtrackr.strata_glue<span class="op">=</span><span class="st">"{tolower(.value)}"</span>,</span>
<span>  dtrackr.strata_sep<span class="op">=</span><span class="st">", "</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">survival</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/survival/man/cgd.html" class="external-link">cgd</a></span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/track.html">track</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">treat</span>, .messages <span class="op">=</span> <span class="st">"case or control"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/comment.html">comment</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">sex</span>,</span>
<span>    .add <span class="op">=</span> <span class="cn">TRUE</span>, </span>
<span>    .messages <span class="op">=</span> <span class="st">"by {tolower(.cols)}"</span> <span class="co">#.cols contains a csv string of the grouping variables</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/comment.html">comment</a></span><span class="op">(</span></span>
<span>    .messages <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>    <span class="st">"{.count} patients"</span>,</span>
<span>    <span class="st">"{sprintf('%1.0f',.count/.total*100)}% of the total"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">ungroup</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/flowchart.html">flowchart</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<?xml version="1.0" encoding="UTF-8" standalone="no"?><!-- Generated by graphviz version 2.40.1 (20161225.0304)
 --><!-- Title: %0 Pages: 1 --><svg width="324.000pt" height="260.000pt" viewbox="0 0 324.000 260.000" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="graph0" class="graph" transform="scale(1.000 1.000) rotate(0) translate(4 256.000)"><title>%0</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-256.4 320.02,-256.4 320.02,4 -4,4"></polygon><!-- 7&#45;&gt;11 --><g id="edge4" class="edge"><title>7:s-&gt;11</title>
<path fill="none" stroke="#000000" d="M35.2304,-41.6C35.2304,-41.6 35.2304,-11 35.2304,-11 35.2304,-11 130.0276,-11 130.0276,-11"></path><polygon fill="#000000" stroke="#000000" points="130.0276,-12.7501 135.0276,-11 130.0276,-9.2501 130.0276,-12.7501"></polygon></g><!-- 8&#45;&gt;11 --><g id="edge3" class="edge"><title>8:s-&gt;11</title>
<path fill="none" stroke="#000000" d="M144.4568,-41.6C144.4568,-41.6 144.4568,-28.5777 144.4568,-28.5777"></path><polygon fill="#000000" stroke="#000000" points="146.2069,-28.5777 144.4568,-23.5777 142.7069,-28.5778 146.2069,-28.5777"></polygon></g><!-- 9&#45;&gt;11 --><g id="edge2" class="edge"><title>9:s-&gt;11</title>
<path fill="none" stroke="#000000" d="M175.6158,-41.6C175.6158,-41.6 175.6158,-28.5777 175.6158,-28.5777"></path><polygon fill="#000000" stroke="#000000" points="177.3659,-28.5777 175.6158,-23.5777 173.8659,-28.5778 177.3659,-28.5777"></polygon></g><!-- 10&#45;&gt;11 --><g id="edge1" class="edge"><title>10:s-&gt;11</title>
<path fill="none" stroke="#000000" d="M281.2304,-41.6C281.2304,-41.6 281.2304,-11 281.2304,-11 281.2304,-11 188.6257,-11 188.6257,-11"></path><polygon fill="#000000" stroke="#000000" points="188.6257,-9.2501 183.6257,-11 188.6257,-12.7501 188.6257,-9.2501"></polygon></g><!-- 5&#45;&gt;7 --><g id="edge8" class="edge"><title>5:s-&gt;7</title>
<path fill="none" stroke="#000000" d="M119.2304,-109C119.2304,-109 35.2304,-109 35.2304,-109 35.2304,-109 35.2304,-84.729 35.2304,-84.729"></path><polygon fill="#000000" stroke="#000000" points="36.9805,-84.7289 35.2304,-79.729 33.4805,-84.729 36.9805,-84.7289"></polygon></g><!-- 5&#45;&gt;8 --><g id="edge7" class="edge"><title>5:s-&gt;8</title>
<path fill="none" stroke="#000000" d="M119.2304,-97.4C119.2304,-97.4 119.2304,-84.8622 119.2304,-84.8622"></path><polygon fill="#000000" stroke="#000000" points="120.9805,-84.8622 119.2304,-79.8622 117.4805,-84.8623 120.9805,-84.8622"></polygon></g><!-- 6&#45;&gt;9 --><g id="edge6" class="edge"><title>6:s-&gt;9</title>
<path fill="none" stroke="#000000" d="M200.2304,-97.4C200.2304,-97.4 200.2304,-84.8622 200.2304,-84.8622"></path><polygon fill="#000000" stroke="#000000" points="201.9805,-84.8622 200.2304,-79.8622 198.4805,-84.8623 201.9805,-84.8622"></polygon></g><!-- 6&#45;&gt;10 --><g id="edge5" class="edge"><title>6:s-&gt;10</title>
<path fill="none" stroke="#000000" d="M200.2304,-109C200.2304,-109 281.2304,-109 281.2304,-109 281.2304,-109 281.2304,-84.729 281.2304,-84.729"></path><polygon fill="#000000" stroke="#000000" points="282.9805,-84.7289 281.2304,-79.729 279.4805,-84.729 282.9805,-84.7289"></polygon></g><!-- 3&#45;&gt;5 --><g id="edge10" class="edge"><title>3:s-&gt;5</title>
<path fill="none" stroke="#000000" d="M119.2304,-139.2C119.2304,-139.2 119.2304,-126.1777 119.2304,-126.1777"></path><polygon fill="#000000" stroke="#000000" points="120.9805,-126.1777 119.2304,-121.1777 117.4805,-126.1778 120.9805,-126.1777"></polygon></g><!-- 4&#45;&gt;6 --><g id="edge9" class="edge"><title>4:s-&gt;6</title>
<path fill="none" stroke="#000000" d="M200.2304,-139.2C200.2304,-139.2 200.2304,-126.1777 200.2304,-126.1777"></path><polygon fill="#000000" stroke="#000000" points="201.9805,-126.1777 200.2304,-121.1777 198.4805,-126.1778 201.9805,-126.1777"></polygon></g><!-- 2&#45;&gt;3 --><g id="edge12" class="edge"><title>2:s-&gt;3</title>
<path fill="none" stroke="#000000" d="M134.7852,-187C134.7852,-187 134.7852,-174.4477 134.7852,-174.4477"></path><polygon fill="#000000" stroke="#000000" points="136.5353,-174.4477 134.7852,-169.4477 133.0353,-174.4478 136.5353,-174.4477"></polygon></g><!-- 2&#45;&gt;4 --><g id="edge11" class="edge"><title>2:s-&gt;4</title>
<path fill="none" stroke="#000000" d="M185.2874,-187C185.2874,-187 185.2874,-174.4477 185.2874,-174.4477"></path><polygon fill="#000000" stroke="#000000" points="187.0375,-174.4477 185.2874,-169.4477 183.5375,-174.4478 187.0375,-174.4477"></polygon></g><!-- 1&#45;&gt;2 --><g id="edge13" class="edge"><title>1:s-&gt;2</title>
<path fill="none" stroke="#000000" d="M159.2304,-228.6C159.2304,-228.6 159.2304,-215.6987 159.2304,-215.6987"></path><polygon fill="#000000" stroke="#000000" points="160.9805,-215.6987 159.2304,-210.6987 157.4805,-215.6987 160.9805,-215.6987"></polygon></g><!-- 11 --><g id="node1" class="node"><title>11</title>
<polygon fill="#ffffff" stroke="#000000" points="183.4051,-23.4033 135.0557,-23.4033 135.0557,-.1967 183.4051,-.1967 183.4051,-23.4033"></polygon><text text-anchor="start" x="141.8936" y="-9.4" font-family="Helvetica,sans-Serif" font-size="8.00" fill="#000000">203 items</text></g><!-- 7 --><g id="node2" class="node"><title>7</title>
<polygon fill="#ffffff" stroke="#000000" points="70.6927,-79.6 -.2319,-79.6 -.2319,-41.6 70.6927,-41.6 70.6927,-79.6"></polygon><text text-anchor="start" x="7" y="-66.4" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="8.00" fill="#000000">placebo, female</text><text text-anchor="start" x="7" y="-58.4" font-family="Helvetica,sans-Serif" font-size="8.00" fill="#000000">20 patients</text><text text-anchor="start" x="7" y="-50.4" font-family="Helvetica,sans-Serif" font-size="8.00" fill="#000000">10% of the total</text></g><!-- 8 --><g id="node3" class="node"><title>8</title>
<polygon fill="#ffffff" stroke="#000000" points="153.8109,-79.6 84.6499,-79.6 84.6499,-41.6 153.8109,-41.6 153.8109,-79.6"></polygon><text text-anchor="start" x="91.4408" y="-66.4" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="8.00" fill="#000000">placebo, male</text><text text-anchor="start" x="91.4408" y="-58.4" font-family="Helvetica,sans-Serif" font-size="8.00" fill="#000000">100 patients</text><text text-anchor="start" x="91.4408" y="-50.4" font-family="Helvetica,sans-Serif" font-size="8.00" fill="#000000">49% of the total</text></g><!-- 9 --><g id="node4" class="node"><title>9</title>
<polygon fill="#ffffff" stroke="#000000" points="232.8625,-79.6 167.5983,-79.6 167.5983,-41.6 232.8625,-41.6 232.8625,-79.6"></polygon><text text-anchor="start" x="174.6644" y="-66.4" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="8.00" fill="#000000">rifn-g, female</text><text text-anchor="start" x="174.6644" y="-58.4" font-family="Helvetica,sans-Serif" font-size="8.00" fill="#000000">15 patients</text><text text-anchor="start" x="174.6644" y="-50.4" font-family="Helvetica,sans-Serif" font-size="8.00" fill="#000000">7% of the total</text></g><!-- 10 --><g id="node5" class="node"><title>10</title>
<polygon fill="#ffffff" stroke="#000000" points="315.8109,-79.6 246.6499,-79.6 246.6499,-41.6 315.8109,-41.6 315.8109,-79.6"></polygon><text text-anchor="start" x="253.4408" y="-66.4" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="8.00" fill="#000000">rifn-g, male</text><text text-anchor="start" x="253.4408" y="-58.4" font-family="Helvetica,sans-Serif" font-size="8.00" fill="#000000">68 patients</text><text text-anchor="start" x="253.4408" y="-50.4" font-family="Helvetica,sans-Serif" font-size="8.00" fill="#000000">33% of the total</text></g><!-- 5 --><g id="node6" class="node"><title>5</title>
<polygon fill="#ffffff" stroke="#000000" points="147.8,-121.0033 90.6608,-121.0033 90.6608,-97.7967 147.8,-97.7967 147.8,-121.0033"></polygon><text text-anchor="start" x="97.4464" y="-107" font-family="Helvetica,sans-Serif" font-size="8.00" fill="#000000">by treat, sex</text></g><!-- 6 --><g id="node7" class="node"><title>6</title>
<polygon fill="#ffffff" stroke="#000000" points="228.8,-121.0033 171.6608,-121.0033 171.6608,-97.7967 228.8,-97.7967 228.8,-121.0033"></polygon><text text-anchor="start" x="178.4464" y="-107" font-family="Helvetica,sans-Serif" font-size="8.00" fill="#000000">by treat, sex</text></g><!-- 3 --><g id="node8" class="node"><title>3</title>
<polygon fill="#ffffff" stroke="#000000" points="143.4051,-169.2 95.0557,-169.2 95.0557,-139.2 143.4051,-139.2 143.4051,-169.2"></polygon><text text-anchor="start" x="101.8936" y="-156" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="8.00" fill="#000000">placebo</text><text text-anchor="start" x="101.8936" y="-148" font-family="Helvetica,sans-Serif" font-size="8.00" fill="#000000">120 items</text></g><!-- 4 --><g id="node9" class="node"><title>4</title>
<polygon fill="#ffffff" stroke="#000000" points="222.4574,-169.2 178.0034,-169.2 178.0034,-139.2 222.4574,-139.2 222.4574,-169.2"></polygon><text text-anchor="start" x="185.1172" y="-156" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="8.00" fill="#000000">rifn-g</text><text text-anchor="start" x="185.1172" y="-148" font-family="Helvetica,sans-Serif" font-size="8.00" fill="#000000">83 items</text></g><!-- 2 --><g id="node10" class="node"><title>2</title>
<polygon fill="#ffffff" stroke="#000000" points="192.6864,-210.6033 125.7744,-210.6033 125.7744,-187.3967 192.6864,-187.3967 192.6864,-210.6033"></polygon><text text-anchor="start" x="133.0032" y="-196.6" font-family="Helvetica,sans-Serif" font-size="8.00" fill="#000000">case or control</text></g><!-- 1 --><g id="node11" class="node"><title>1</title>
<polygon fill="#ffffff" stroke="#000000" points="183.4051,-252.2033 135.0557,-252.2033 135.0557,-228.9967 183.4051,-228.9967 183.4051,-252.2033"></polygon><text text-anchor="start" x="141.8936" y="-238.2" font-family="Helvetica,sans-Serif" font-size="8.00" fill="#000000">203 items</text></g></g></svg><div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># reset options </span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span><span class="va">old</span><span class="op">)</span></span></code></pre></div>
<p>N.B. this setting affects the “strata” label of the group, which in
turn affects the flowchart branching. If this is not unique from one
group to another strange behaviours will be observed.</p>
</div>
<div class="section level3">
<h3 id="default-text">Default text<a class="anchor" aria-label="anchor" href="#default-text"></a>
</h3>
<p>With the group strata label defined you can set other defaults. In
the flowchart above the “583 items” labels are generated by the default
message setting, and the headings for the groups by the default headline
setting. In this example we change these to alter the default text.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">old</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span></span>
<span>  dtrackr.strata_glue<span class="op">=</span><span class="st">"{tolower(.value)}"</span>,</span>
<span>  dtrackr.strata_sep<span class="op">=</span><span class="st">", "</span>,</span>
<span>  dtrackr.default_message <span class="op">=</span> <span class="st">"containing {.count} patients"</span>,</span>
<span>  dtrackr.default_headline <span class="op">=</span> <span class="st">"subgroup: {.strata}"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">survival</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/survival/man/cgd.html" class="external-link">cgd</a></span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/track.html">track</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span></span>
<span>    <span class="va">treat</span>,</span>
<span>    .messages <span class="op">=</span> <span class="st">"case or control"</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/comment.html">comment</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span></span>
<span>    <span class="va">sex</span>,</span>
<span>    .add <span class="op">=</span> <span class="cn">TRUE</span>, </span>
<span>    .messages <span class="op">=</span> <span class="st">"by gender"</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/comment.html">comment</a></span><span class="op">(</span></span>
<span>    .messages <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>    <span class="st">"{.count} patients"</span>,</span>
<span>    <span class="st">"{sprintf('%1.0f',.count/.total*100)}% of the total"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">ungroup</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/flowchart.html">flowchart</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<?xml version="1.0" encoding="UTF-8" standalone="no"?><!-- Generated by graphviz version 2.40.1 (20161225.0304)
 --><!-- Title: %0 Pages: 1 --><svg width="424.800pt" height="257.712pt" viewbox="0 0 424.800 257.712" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="graph0" class="graph" transform="scale(0.944 0.944) rotate(0) translate(4 269.000)"><title>%0</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-269.2 446.0224,-269.2 446.0224,4 -4,4"></polygon><!-- 7&#45;&gt;11 --><g id="edge4" class="edge"><title>7:s-&gt;11</title>
<path fill="none" stroke="#000000" d="M54.1268,-48C54.1268,-48 54.1268,-15 54.1268,-15 54.1268,-15 176.5681,-15 176.5681,-15"></path><polygon fill="#000000" stroke="#000000" points="176.5682,-16.7501 181.5681,-15 176.5681,-13.2501 176.5682,-16.7501"></polygon></g><!-- 8&#45;&gt;11 --><g id="edge3" class="edge"><title>8:s-&gt;11</title>
<path fill="none" stroke="#000000" d="M202.9588,-48C202.9588,-48 202.9588,-35.3407 202.9588,-35.3407"></path><polygon fill="#000000" stroke="#000000" points="204.7089,-35.3407 202.9588,-30.3407 201.2089,-35.3407 204.7089,-35.3407"></polygon></g><!-- 9&#45;&gt;11 --><g id="edge2" class="edge"><title>9:s-&gt;11</title>
<path fill="none" stroke="#000000" d="M258.0752,-48C258.0752,-48 258.0752,-35.3407 258.0752,-35.3407"></path><polygon fill="#000000" stroke="#000000" points="259.8253,-35.3407 258.0752,-30.3407 256.3253,-35.3407 259.8253,-35.3407"></polygon></g><!-- 10&#45;&gt;11 --><g id="edge1" class="edge"><title>10:s-&gt;11</title>
<path fill="none" stroke="#000000" d="M396.1268,-48C396.1268,-48 396.1268,-15 396.1268,-15 396.1268,-15 283.5871,-15 283.5871,-15"></path><polygon fill="#000000" stroke="#000000" points="283.5872,-13.2501 278.5871,-15 283.5871,-16.7501 283.5872,-13.2501"></polygon></g><!-- 5&#45;&gt;7 --><g id="edge8" class="edge"><title>5:s-&gt;7</title>
<path fill="none" stroke="#000000" d="M173.1268,-115C173.1268,-115 54.1268,-115 54.1268,-115 54.1268,-115 54.1268,-91.2469 54.1268,-91.2469"></path><polygon fill="#000000" stroke="#000000" points="55.8769,-91.2468 54.1268,-86.2469 52.3769,-91.2469 55.8769,-91.2468"></polygon></g><!-- 5&#45;&gt;8 --><g id="edge7" class="edge"><title>5:s-&gt;8</title>
<path fill="none" stroke="#000000" d="M173.1268,-103.8C173.1268,-103.8 173.1268,-91.2622 173.1268,-91.2622"></path><polygon fill="#000000" stroke="#000000" points="174.8769,-91.2622 173.1268,-86.2622 171.3769,-91.2623 174.8769,-91.2622"></polygon></g><!-- 6&#45;&gt;9 --><g id="edge6" class="edge"><title>6:s-&gt;9</title>
<path fill="none" stroke="#000000" d="M287.1268,-103.8C287.1268,-103.8 287.1268,-91.2622 287.1268,-91.2622"></path><polygon fill="#000000" stroke="#000000" points="288.8769,-91.2622 287.1268,-86.2622 285.3769,-91.2623 288.8769,-91.2622"></polygon></g><!-- 6&#45;&gt;10 --><g id="edge5" class="edge"><title>6:s-&gt;10</title>
<path fill="none" stroke="#000000" d="M287.1268,-115C287.1268,-115 396.1268,-115 396.1268,-115 396.1268,-115 396.1268,-91.2469 396.1268,-91.2469"></path><polygon fill="#000000" stroke="#000000" points="397.8769,-91.2468 396.1268,-86.2469 394.3769,-91.2469 397.8769,-91.2468"></polygon></g><!-- 3&#45;&gt;5 --><g id="edge10" class="edge"><title>3:s-&gt;5</title>
<path fill="none" stroke="#000000" d="M173.1268,-145.6C173.1268,-145.6 173.1268,-132.5777 173.1268,-132.5777"></path><polygon fill="#000000" stroke="#000000" points="174.8769,-132.5777 173.1268,-127.5777 171.3769,-132.5778 174.8769,-132.5777"></polygon></g><!-- 4&#45;&gt;6 --><g id="edge9" class="edge"><title>4:s-&gt;6</title>
<path fill="none" stroke="#000000" d="M287.1268,-145.6C287.1268,-145.6 287.1268,-132.5777 287.1268,-132.5777"></path><polygon fill="#000000" stroke="#000000" points="288.8769,-132.5777 287.1268,-127.5777 285.3769,-132.5778 288.8769,-132.5777"></polygon></g><!-- 2&#45;&gt;3 --><g id="edge12" class="edge"><title>2:s-&gt;3</title>
<path fill="none" stroke="#000000" d="M209.077,-193.4C209.077,-193.4 209.077,-180.8477 209.077,-180.8477"></path><polygon fill="#000000" stroke="#000000" points="210.8271,-180.8477 209.077,-175.8477 207.3271,-180.8478 210.8271,-180.8477"></polygon></g><!-- 2&#45;&gt;4 --><g id="edge11" class="edge"><title>2:s-&gt;4</title>
<path fill="none" stroke="#000000" d="M252.2884,-193.4C252.2884,-193.4 252.2884,-180.8477 252.2884,-180.8477"></path><polygon fill="#000000" stroke="#000000" points="254.0385,-180.8477 252.2884,-175.8477 250.5385,-180.8478 254.0385,-180.8477"></polygon></g><!-- 1&#45;&gt;2 --><g id="edge13" class="edge"><title>1:s-&gt;2</title>
<path fill="none" stroke="#000000" d="M230.1268,-235.2C230.1268,-235.2 230.1268,-222.1777 230.1268,-222.1777"></path><polygon fill="#000000" stroke="#000000" points="231.8769,-222.1777 230.1268,-217.1777 228.3769,-222.1778 231.8769,-222.1777"></polygon></g><!-- 11 --><g id="node1" class="node"><title>11</title>
<polygon fill="#ffffff" stroke="#000000" points="278.3823,-30 181.8713,-30 181.8713,0 278.3823,0 278.3823,-30"></polygon><text text-anchor="start" x="188.9992" y="-16.8" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="8.00" fill="#000000">subgroup: </text><text text-anchor="start" x="188.9992" y="-8.8" font-family="Helvetica,sans-Serif" font-size="8.00" fill="#000000">containing 203 patients</text></g><!-- 7 --><g id="node2" class="node"><title>7</title>
<polygon fill="#ffffff" stroke="#000000" points="108.3807,-86 -.1271,-86 -.1271,-48 108.3807,-48 108.3807,-86"></polygon><text text-anchor="start" x="7" y="-72.8" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="8.00" fill="#000000">subgroup: placebo, female</text><text text-anchor="start" x="7" y="-64.8" font-family="Helvetica,sans-Serif" font-size="8.00" fill="#000000">20 patients</text><text text-anchor="start" x="7" y="-56.8" font-family="Helvetica,sans-Serif" font-size="8.00" fill="#000000">10% of the total</text></g><!-- 8 --><g id="node3" class="node"><title>8</title>
<polygon fill="#ffffff" stroke="#000000" points="223.7109,-86 122.5427,-86 122.5427,-48 223.7109,-48 223.7109,-86"></polygon><text text-anchor="start" x="129.3352" y="-72.8" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="8.00" fill="#000000">subgroup: placebo, male</text><text text-anchor="start" x="129.3352" y="-64.8" font-family="Helvetica,sans-Serif" font-size="8.00" fill="#000000">100 patients</text><text text-anchor="start" x="129.3352" y="-56.8" font-family="Helvetica,sans-Serif" font-size="8.00" fill="#000000">49% of the total</text></g><!-- 9 --><g id="node4" class="node"><title>9</title>
<polygon fill="#ffffff" stroke="#000000" points="336.5895,-86 237.6641,-86 237.6641,-48 336.5895,-48 336.5895,-86"></polygon><text text-anchor="start" x="244.896" y="-72.8" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="8.00" fill="#000000">subgroup: rifn-g, female</text><text text-anchor="start" x="244.896" y="-64.8" font-family="Helvetica,sans-Serif" font-size="8.00" fill="#000000">15 patients</text><text text-anchor="start" x="244.896" y="-56.8" font-family="Helvetica,sans-Serif" font-size="8.00" fill="#000000">7% of the total</text></g><!-- 10 --><g id="node5" class="node"><title>10</title>
<polygon fill="#ffffff" stroke="#000000" points="441.9182,-86 350.3354,-86 350.3354,-48 441.9182,-48 441.9182,-86"></polygon><text text-anchor="start" x="357.2312" y="-72.8" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="8.00" fill="#000000">subgroup: rifn-g, male</text><text text-anchor="start" x="357.2312" y="-64.8" font-family="Helvetica,sans-Serif" font-size="8.00" fill="#000000">68 patients</text><text text-anchor="start" x="357.2312" y="-56.8" font-family="Helvetica,sans-Serif" font-size="8.00" fill="#000000">33% of the total</text></g><!-- 5 --><g id="node6" class="node"><title>5</title>
<polygon fill="#ffffff" stroke="#000000" points="197.6983,-127.4033 148.5553,-127.4033 148.5553,-104.1967 197.6983,-104.1967 197.6983,-127.4033"></polygon><text text-anchor="start" x="155.342" y="-113.4" font-family="Helvetica,sans-Serif" font-size="8.00" fill="#000000">by gender</text></g><!-- 6 --><g id="node7" class="node"><title>6</title>
<polygon fill="#ffffff" stroke="#000000" points="311.6983,-127.4033 262.5553,-127.4033 262.5553,-104.1967 311.6983,-104.1967 311.6983,-127.4033"></polygon><text text-anchor="start" x="269.342" y="-113.4" font-family="Helvetica,sans-Serif" font-size="8.00" fill="#000000">by gender</text></g><!-- 3 --><g id="node8" class="node"><title>3</title>
<polygon fill="#ffffff" stroke="#000000" points="221.3823,-175.6 124.8713,-175.6 124.8713,-145.6 221.3823,-145.6 221.3823,-175.6"></polygon><text text-anchor="start" x="131.9992" y="-162.4" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="8.00" fill="#000000">subgroup: placebo</text><text text-anchor="start" x="131.9992" y="-154.4" font-family="Helvetica,sans-Serif" font-size="8.00" fill="#000000">containing 120 patients</text></g><!-- 4 --><g id="node9" class="node"><title>4</title>
<polygon fill="#ffffff" stroke="#000000" points="332.935,-175.6 241.3186,-175.6 241.3186,-145.6 332.935,-145.6 332.935,-175.6"></polygon><text text-anchor="start" x="248.2228" y="-162.4" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="8.00" fill="#000000">subgroup: rifn-g</text><text text-anchor="start" x="248.2228" y="-154.4" font-family="Helvetica,sans-Serif" font-size="8.00" fill="#000000">containing 83 patients</text></g><!-- 2 --><g id="node10" class="node"><title>2</title>
<polygon fill="#ffffff" stroke="#000000" points="263.5828,-217.0033 196.6708,-217.0033 196.6708,-193.7967 263.5828,-193.7967 263.5828,-217.0033"></polygon><text text-anchor="start" x="203.8996" y="-203" font-family="Helvetica,sans-Serif" font-size="8.00" fill="#000000">case or control</text></g><!-- 1 --><g id="node11" class="node"><title>1</title>
<polygon fill="#ffffff" stroke="#000000" points="278.3823,-265.2 181.8713,-265.2 181.8713,-235.2 278.3823,-235.2 278.3823,-265.2"></polygon><text text-anchor="start" x="188.9992" y="-252" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="8.00" fill="#000000">subgroup: </text><text text-anchor="start" x="188.9992" y="-244" font-family="Helvetica,sans-Serif" font-size="8.00" fill="#000000">containing 203 patients</text></g></g></svg><div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># N.b. this setting includes some unwanted headlines in the ungrouped stages of</span></span>
<span><span class="co"># the flow chart. If a headline evaluates to "" then the headline is suppressed</span></span>
<span><span class="co"># and we can get rid of unwanted headlines. An example of doing this is as</span></span>
<span><span class="co"># follows:</span></span>
<span><span class="co"># options(dtrackr.default_headline = "{ifelse(.strata != '', glue::glue('subgroup: {.strata}'), '')}")</span></span>
<span></span>
<span><span class="co"># reset options </span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span><span class="va">old</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="subgroup-count">Subgroup count<a class="anchor" aria-label="anchor" href="#subgroup-count"></a>
</h3>
<p>Subgroup counts are a slightly neater way of doing this. Their
default layout can be modified using
<code>dtrackr.default_count_subgroup</code>.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">old</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span></span>
<span>  dtrackr.default_headline <span class="op">=</span> <span class="st">"{.strata}"</span>,</span>
<span>  dtrackr.default_count_subgroup <span class="op">=</span> <span class="st">"{tolower(.name)}: {.count}/{.subtotal}"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">survival</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/survival/man/cgd.html" class="external-link">cgd</a></span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/track.html">track</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span></span>
<span>    <span class="va">treat</span>,</span>
<span>    .messages <span class="op">=</span> <span class="st">"case or control"</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/comment.html">comment</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/count_subgroup.html">count_subgroup</a></span><span class="op">(</span></span>
<span>    <span class="va">sex</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">ungroup</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/flowchart.html">flowchart</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<?xml version="1.0" encoding="UTF-8" standalone="no"?><!-- Generated by graphviz version 2.40.1 (20161225.0304)
 --><!-- Title: %0 Pages: 1 --><svg width="152.000pt" height="219.000pt" viewbox="0 0 152.000 219.000" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="graph0" class="graph" transform="scale(1.000 1.000) rotate(0) translate(4 215.000)"><title>%0</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-214.8 147.6852,-214.8 147.6852,4 -4,4"></polygon><!-- 5&#45;&gt;7 --><g id="edge2" class="edge"><title>5:s-&gt;7</title>
<path fill="none" stroke="#000000" d="M57.5132,-41.6C57.5132,-41.6 57.5132,-28.5777 57.5132,-28.5777"></path><polygon fill="#000000" stroke="#000000" points="59.2633,-28.5777 57.5132,-23.5777 55.7633,-28.5778 59.2633,-28.5777"></polygon></g><!-- 6&#45;&gt;7 --><g id="edge1" class="edge"><title>6:s-&gt;7</title>
<path fill="none" stroke="#000000" d="M89.0074,-41.6C89.0074,-41.6 89.0074,-28.5777 89.0074,-28.5777"></path><polygon fill="#000000" stroke="#000000" points="90.7575,-28.5777 89.0074,-23.5777 87.2575,-28.5778 90.7575,-28.5777"></polygon></g><!-- 3&#45;&gt;5 --><g id="edge4" class="edge"><title>3:s-&gt;5</title>
<path fill="none" stroke="#000000" d="M33.4544,-97.6C33.4544,-97.6 33.4544,-84.9669 33.4544,-84.9669"></path><polygon fill="#000000" stroke="#000000" points="35.2045,-84.9669 33.4544,-79.9669 31.7045,-84.9669 35.2045,-84.9669"></polygon></g><!-- 4&#45;&gt;6 --><g id="edge3" class="edge"><title>4:s-&gt;6</title>
<path fill="none" stroke="#000000" d="M112.4544,-97.6C112.4544,-97.6 112.4544,-84.9669 112.4544,-84.9669"></path><polygon fill="#000000" stroke="#000000" points="114.2045,-84.9669 112.4544,-79.9669 110.7045,-84.9669 114.2045,-84.9669"></polygon></g><!-- 2&#45;&gt;3 --><g id="edge6" class="edge"><title>2:s-&gt;3</title>
<path fill="none" stroke="#000000" d="M51.4004,-145.4C51.4004,-145.4 51.4004,-132.8477 51.4004,-132.8477"></path><polygon fill="#000000" stroke="#000000" points="53.1505,-132.8477 51.4004,-127.8477 49.6505,-132.8478 53.1505,-132.8477"></polygon></g><!-- 2&#45;&gt;4 --><g id="edge5" class="edge"><title>2:s-&gt;4</title>
<path fill="none" stroke="#000000" d="M95.3464,-145.4C95.3464,-145.4 95.3464,-132.8477 95.3464,-132.8477"></path><polygon fill="#000000" stroke="#000000" points="97.0965,-132.8477 95.3464,-127.8477 93.5965,-132.8478 97.0965,-132.8477"></polygon></g><!-- 1&#45;&gt;2 --><g id="edge7" class="edge"><title>1:s-&gt;2</title>
<path fill="none" stroke="#000000" d="M72.4544,-187C72.4544,-187 72.4544,-174.0987 72.4544,-174.0987"></path><polygon fill="#000000" stroke="#000000" points="74.2045,-174.0987 72.4544,-169.0987 70.7045,-174.0987 74.2045,-174.0987"></polygon></g><!-- 7 --><g id="node1" class="node"><title>7</title>
<polygon fill="#ffffff" stroke="#000000" points="96.6291,-23.4033 48.2797,-23.4033 48.2797,-.1967 96.6291,-.1967 96.6291,-23.4033"></polygon><text text-anchor="start" x="55.1176" y="-9.4" font-family="Helvetica,sans-Serif" font-size="8.00" fill="#000000">203 items</text></g><!-- 5 --><g id="node2" class="node"><title>5</title>
<polygon fill="#ffffff" stroke="#000000" points="66.8633,-79.6 .0455,-79.6 .0455,-41.6 66.8633,-41.6 66.8633,-79.6"></polygon><text text-anchor="start" x="7" y="-66.4" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="8.00" fill="#000000">treat:placebo</text><text text-anchor="start" x="7" y="-58.4" font-family="Helvetica,sans-Serif" font-size="8.00" fill="#000000">male: 100/120</text><text text-anchor="start" x="7" y="-50.4" font-family="Helvetica,sans-Serif" font-size="8.00" fill="#000000">female: 20/120</text></g><!-- 6 --><g id="node3" class="node"><title>6</title>
<polygon fill="#ffffff" stroke="#000000" points="143.9177,-79.6 80.9911,-79.6 80.9911,-41.6 143.9177,-41.6 143.9177,-79.6"></polygon><text text-anchor="start" x="88.2236" y="-66.4" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="8.00" fill="#000000">treat:rIFN-g</text><text text-anchor="start" x="88.2236" y="-58.4" font-family="Helvetica,sans-Serif" font-size="8.00" fill="#000000">male: 68/83</text><text text-anchor="start" x="88.2236" y="-50.4" font-family="Helvetica,sans-Serif" font-size="8.00" fill="#000000">female: 15/83</text></g><!-- 3 --><g id="node4" class="node"><title>3</title>
<polygon fill="#ffffff" stroke="#000000" points="63.6933,-127.6 3.2155,-127.6 3.2155,-97.6 63.6933,-97.6 63.6933,-127.6"></polygon><text text-anchor="start" x="10.3352" y="-114.4" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="8.00" fill="#000000">treat:placebo</text><text text-anchor="start" x="10.3352" y="-106.4" font-family="Helvetica,sans-Serif" font-size="8.00" fill="#000000">120 items</text></g><!-- 4 --><g id="node5" class="node"><title>4</title>
<polygon fill="#ffffff" stroke="#000000" points="139.8409,-127.6 85.0679,-127.6 85.0679,-97.6 139.8409,-97.6 139.8409,-127.6"></polygon><text text-anchor="start" x="92.0112" y="-114.4" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="8.00" fill="#000000">treat:rIFN-g</text><text text-anchor="start" x="92.0112" y="-106.4" font-family="Helvetica,sans-Serif" font-size="8.00" fill="#000000">83 items</text></g><!-- 2 --><g id="node6" class="node"><title>2</title>
<polygon fill="#ffffff" stroke="#000000" points="105.9104,-169.0033 38.9984,-169.0033 38.9984,-145.7967 105.9104,-145.7967 105.9104,-169.0033"></polygon><text text-anchor="start" x="46.2272" y="-155" font-family="Helvetica,sans-Serif" font-size="8.00" fill="#000000">case or control</text></g><!-- 1 --><g id="node7" class="node"><title>1</title>
<polygon fill="#ffffff" stroke="#000000" points="96.6291,-210.6033 48.2797,-210.6033 48.2797,-187.3967 96.6291,-187.3967 96.6291,-210.6033"></polygon><text text-anchor="start" x="55.1176" y="-196.6" font-family="Helvetica,sans-Serif" font-size="8.00" fill="#000000">203 items</text></g></g></svg><div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># reset options </span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span><span class="va">old</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="exclusions">Exclusions<a class="anchor" aria-label="anchor" href="#exclusions"></a>
</h3>
<p>Elsewhere we discuss the possibility of capturing excluded items for
debugging. This behaviour can be added to any pipeline with the
<code><a href="../reference/capture_exclusions.html">capture_exclusions()</a></code> function. Alternatively it can be
globally enabled with the following option. Usual caveats about
performance apply.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>dtrackr.exclusions<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="reporting-exclusions-which-do-nothing">Reporting exclusions which do nothing<a class="anchor" aria-label="anchor" href="#reporting-exclusions-which-do-nothing"></a>
</h3>
<p>Sometimes in a pipeline we have a exclusion criteria which is not
triggered, or is not triggered for a particular subgroup. In this case
the default is not to show the zero items that were excluded. However
sometimes it is reassuring to know that an filter was applied even if it
results in nothing:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>dtrackr.show_zero_exclusions<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="maximum-groupings">Maximum groupings<a class="anchor" aria-label="anchor" href="#maximum-groupings"></a>
</h3>
<p>In <code><a href="../reference/count_subgroup.html">count_subgroup()</a></code> and <code><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by()</a></code>
statements there can be a large number of items generated if a
particular grouping variable has a lot of possible values. This can
cause performance issues and legibility issues for the resulting graph
and is usually a result of an interim stage of the data pipeline where
grouping is used to do fine scale summarisation operation (e.g. a
<code>dataset %&gt;% group_by(nearly_unique_id) %&gt;% filter(row_number()==1)</code>
or a timeseries where things need to be aggregated by date, and the data
is quickly ungrouped (e.g.
<code>timeseries %&gt;% group_by(date) %&gt;% summarise(count = n())</code>).
The most number of groups that <code>dtrackr</code> will attempt to keep
track of is configurable but defaults to 16:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>dtrackr.max_supported_groupings <span class="op">=</span> <span class="fl">16</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="verbose-output">Verbose output<a class="anchor" aria-label="anchor" href="#verbose-output"></a>
</h3>
<p>Various messages about what <code>dtrackr</code> is doing are
produced but suppressed by default. They can be enabled with the
following flag.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>dtrackr.verbose<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Robert Challen.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
