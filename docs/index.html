<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-GB">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Track your Data Pipelines • dtrackr</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
<link rel="icon" sizes="any" href="favicon.ico">
<link rel="manifest" href="site.webmanifest">
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Track your Data Pipelines">
<meta name="description" content="Track and document dplyr data pipelines. As you filter, mutate, and join your way through a data set, dtrackr seamlessly keeps track of your data flow and makes publication ready documentation of a data pipeline simple.">
<meta property="og:description" content="Track and document dplyr data pipelines. As you filter, mutate, and join your way through a data set, dtrackr seamlessly keeps track of your data flow and makes publication ready documentation of a data pipeline simple.">
<meta property="og:image" content="https://terminological.github.io/dtrackr/index.html/logo.png">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">dtrackr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.5.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="articles/dtrackr.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="articles/consort-example.html">dtrackr - Consort statement example</a></li>
    <li><a class="dropdown-item" href="articles/dtrackr-options.html">dtrackr - Configuration example</a></li>
    <li><a class="dropdown-item" href="articles/grouping-and-nesting.html">dtrackr - Grouping, Nesting and Long format data</a></li>
    <li><a class="dropdown-item" href="articles/joining-pipelines.html">dtrackr - Joining data pipelines</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/terminological/dtrackr/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header">
<img src="logo.png" class="logo" alt=""><h1 id="dtrackr-track-your-data-pipelines-">dtrackr: Track your Data Pipelines 
<a class="anchor" aria-label="anchor" href="#dtrackr-track-your-data-pipelines-"></a>
</h1>
</div>
<!-- badges: start -->

<!-- badges: end -->
<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p>Accurate documentation of a data pipeline is a first step to reproducibility, and a flow chart describing the steps taken to prepare data is a useful part of this documentation. In analyses that rely on data that is frequently updated, documenting a data flow by copying and pasting row counts into flowcharts in PowerPoint becomes quickly tedious. With interactive data analysis, and particularly using RMarkdown, code execution sometimes happens in a non-linear fashion, and this can lead to, at best, confusion and at worst erroneous analysis. Basing such documentation on what the code does when executed sequentially can be inaccurate when the data has being analysed interactively.</p>
<p>The goal of <code>dtrackr</code> is to take away this pain by instrumenting and monitoring a dataframe through a <code>dplyr</code> pipeline, creating a step-by-step summary of the important parts of the wrangling as it actually happened to the dataframe, right into dataframe metadata itself. This metadata can be used to generate documentation as a flowchart, and allows both a quick overview of the data and also a visual check of the actual data processing.</p>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>In general use <code>dtrackr</code> is expected to be installed alongside the <code>tidyverse</code> set of packages. It is recommended to install <code>tidyverse</code> first.</p>
<p>Binary packages of <code>dtrackr</code> are available on CRAN and r-universe for <code>macOS</code> and <code>Windows</code>. <code>dtrackr</code> can be installed from source on Linux. <code>dtrackr</code> has been tested on R versions 3.6, 4.0, 4.1 and 4.2.</p>
<p>You can install the released version of <code>dtrackr</code> from <a href="https://CRAN.R-project.org" class="external-link">CRAN</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"dtrackr"</span><span class="op">)</span></span></code></pre></div>
<div class="section level3">
<h3 id="system-dependencies-for-installation-from-source">System dependencies for installation from source<a class="anchor" aria-label="anchor" href="#system-dependencies-for-installation-from-source"></a>
</h3>
<p>For installation from source on Linux, <code>dtrackr</code> has required transitive dependencies on a few system libraries. These can be installed with the following commands:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="co"># Ubuntu 20.04 and other debian based distributions:</span></span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a><span class="fu">sudo</span> apt-get install libcurl4-openssl-dev libssl-dev librsvg2-dev <span class="dt">\</span></span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a>  libicu-dev libnode-dev libpng-dev libjpeg-dev libpoppler-cpp-dev</span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a></span>
<span id="cb2-5"><a href="#cb2-5" tabindex="-1"></a><span class="co"># Centos 8</span></span>
<span id="cb2-6"><a href="#cb2-6" tabindex="-1"></a><span class="fu">sudo</span> dnf install libcurl-devel openssl-devel librsvg2-devel <span class="dt">\</span></span>
<span id="cb2-7"><a href="#cb2-7" tabindex="-1"></a>  libicu-devel libpng-devel libjpeg-turbo-devel poppler-devel</span>
<span id="cb2-8"><a href="#cb2-8" tabindex="-1"></a></span>
<span id="cb2-9"><a href="#cb2-9" tabindex="-1"></a><span class="co"># for other linux distributions I suggest using the R pak library:</span></span>
<span id="cb2-10"><a href="#cb2-10" tabindex="-1"></a><span class="co"># install.packages("pak")</span></span>
<span id="cb2-11"><a href="#cb2-11" tabindex="-1"></a><span class="co"># pak::pkg_system_requirements("dtrackr")</span></span>
<span id="cb2-12"><a href="#cb2-12" tabindex="-1"></a></span>
<span id="cb2-13"><a href="#cb2-13" tabindex="-1"></a><span class="co"># N.B. There are additional suggested R package dependencies on </span></span>
<span id="cb2-14"><a href="#cb2-14" tabindex="-1"></a><span class="co"># the `tidyverse` and `rstudioapi` packages which have a longer set of dependencies. </span></span>
<span id="cb2-15"><a href="#cb2-15" tabindex="-1"></a><span class="co"># We suggest you install them individually first if required.</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="alternative-versions-of-dtrackr">Alternative versions of <code>dtrackr</code>
<a class="anchor" aria-label="anchor" href="#alternative-versions-of-dtrackr"></a>
</h3>
<p>Early release versions are available on the <code>r-universe</code>. This will typically be more up to date than CRAN.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Enable repository from terminological</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>repos <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>  terminological <span class="op">=</span> <span class="st">'https://terminological.r-universe.dev'</span>,</span>
<span>  CRAN <span class="op">=</span> <span class="st">'https://cloud.r-project.org'</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co"># Download and install dtrackr in R</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">'dtrackr'</span><span class="op">)</span></span></code></pre></div>
<p>The unstable development version is available from <a href="https://github.com/" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("devtools")</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"terminological/dtrackr"</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="example-usage">Example usage<a class="anchor" aria-label="anchor" href="#example-usage"></a>
</h2>
<p>Suppose we are constructing a data set with out initial input being the <code>iris</code> data. Our analysis depends on some <code>cutOff</code> parameter and we want to prepare a stratified data set that excludes flowers with narrow petals, and those with the biggest petals of each Species. With <code>dtrackr</code> we can mix regular <code>dplyr</code> commands with additional <code>dtrackr</code> commands such as <code>comment</code> and <code>status</code>, and an enhanced implementation of <code><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">dplyr::filter</a></code>, called <code>exclude_all</code>, and <code>include_any</code>.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># a pipeline parameter</span></span>
<span><span class="va">cutOff</span> <span class="op">=</span> <span class="fl">3</span></span>
<span></span>
<span><span class="co"># the pipeline</span></span>
<span><span class="va">dataset</span> <span class="op">=</span> <span class="va">iris</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="reference/track.html">track</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/status.html">status</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">Species</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/status.html">status</a></span><span class="op">(</span></span>
<span>    short <span class="op">=</span> <span class="fu"><a href="reference/p_count_if.html">p_count_if</a></span><span class="op">(</span><span class="va">Sepal.Width</span><span class="op">&lt;</span><span class="va">cutOff</span><span class="op">)</span>, </span>
<span>    long<span class="op">=</span> <span class="fu"><a href="reference/p_count_if.html">p_count_if</a></span><span class="op">(</span><span class="va">Sepal.Width</span><span class="op">&gt;=</span><span class="va">cutOff</span><span class="op">)</span>, </span>
<span>    .messages<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"consisting of {short} short sepal &lt;{cutOff}"</span>,<span class="st">"and {long} long sepal &gt;={cutOff}"</span><span class="op">)</span></span>
<span>  <span class="op">)</span>  <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/exclude_all.html">exclude_all</a></span><span class="op">(</span></span>
<span>    <span class="va">Petal.Width</span><span class="op">&lt;</span><span class="fl">0.3</span> <span class="op">~</span> <span class="st">"excluding {.excluded} with narrow petals"</span>,</span>
<span>    <span class="va">Petal.Width</span> <span class="op">==</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="va">Petal.Width</span><span class="op">)</span> <span class="op">~</span> <span class="st">"and {.excluded} outlier"</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/comment.html">comment</a></span><span class="op">(</span><span class="st">"test message"</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/status.html">status</a></span><span class="op">(</span>.messages <span class="op">=</span> <span class="st">"{.count} of type {Species}"</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">ungroup</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/status.html">status</a></span><span class="op">(</span>.messages <span class="op">=</span> <span class="st">"{.count} together with cutOff {cutOff}"</span><span class="op">)</span> </span></code></pre></div>
<p>Having prepared our dataset we conduct our analysis, and want to write it up and prepare it for submission. As a key part of documenting the data pipeline a visual summary is useful, and for bio-medical journals or clinical trials often a requirement.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dataset</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="reference/flowchart.html">flowchart</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-flowchart.png"></p>
<p>And your publication ready data pipeline, with any assumptions you care to document, is creates in a format of your choice (as long as that choice is one of <code>pdf</code>, <code>png</code>, <code>svg</code> or <code>ps</code>), ready for submission to Nature.</p>
<p>This is a trivial example, but the more complex the pipeline, the bigger benefit you will get.</p>
<p>Check out the <a href="https://terminological.github.io/dtrackr/" class="external-link">main documentation for more details</a>, and in particular the <a href="https://terminological.github.io/dtrackr/articles/dtrackr.html" class="external-link">getting started vignette</a>.</p>
</div>
<div class="section level2">
<h2 id="funding">Funding<a class="anchor" aria-label="anchor" href="#funding"></a>
</h2>
<p>The authors gratefully acknowledge the support of the UK Research and Innovation AI programme of the Engineering and Physical Sciences Research Council <a href="https://gtr.ukri.org/projects?ref=EP%2FY028392%2F1" class="external-link">EPSRC grant EP/Y028392/1</a>.</p>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=dtrackr" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/terminological/dtrackr/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/terminological/dtrackr/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>

<div class="community">
<h2 data-toc-skip>Community</h2>
<ul class="list-unstyled">
<li><a href="CONTRIBUTING.html">Contributing guide</a></li>
</ul>
</div>

<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing dtrackr</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Robert Challen <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-5504-7768" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a>  </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/terminological/dtrackr/actions" class="external-link"><img src="https://github.com/terminological/dtrackr/workflows/R-CMD-check/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://zenodo.org/badge/latestdoi/335974323" class="external-link"><img src="https://zenodo.org/badge/335974323.svg" alt="DOI"></a></li>
<li><a href="https://terminological.r-universe.dev" class="external-link"><img src="https://terminological.r-universe.dev/badges/dtrackr" alt="dtrackr status badge"></a></li>
<li><a href="https://cran.r-project.org/package=dtrackr" class="external-link"><img src="https://cranlogs.r-pkg.org/badges/dtrackr" alt="metacran downloads"></a></li>
<li><a href="https://cran.r-project.org/package=dtrackr" class="external-link"><img src="https://www.r-pkg.org/badges/version/dtrackr" alt="CRAN_Status_Badge"></a></li>
<li><a href="https://app.codecov.io/gh/terminological/dtrackr" class="external-link"><img src="https://codecov.io/gh/terminological/dtrackr/branch/main/graph/badge.svg?token=FR1SBH82D3" alt="codecov"></a></li>
<li><a href="https://doi.org/10.21105/joss.04707" class="external-link"><img src="https://joss.theoj.org/papers/10.21105/joss.04707/status.svg" alt="DOI"></a></li>
<li><a href="https://gtr.ukri.org/projects?ref=EP%2FY028392%2F1" class="external-link"><img src="https://img.shields.io/badge/EPSRC%20grant-EP%2FY028392%2F1-05acb5" alt="EPSRC badge"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Robert Challen.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
